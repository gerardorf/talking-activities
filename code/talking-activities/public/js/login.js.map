{"version":3,"sources":["controller.js","labels.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA","file":"login.js","sourcesContent":["talking.controller('loginController', ['$scope', '$http', '$cookies', '$location', function ($scope, $http, $cookies, $location) {\n    $scope.login = {\n        email: '',\n        password:''\n    };\n    $scope.labels = {};\n    $scope.error = false;\n    $scope.welcomeMessage = false;\n    \n    var init = function () {\n        loadLabels(['login.mail.label',\n            'login.password.label',\n            'login.submit.label',\n            'login.title.label'\n        ]);\n    };\n\n    var loadLabel = function (key) {\n        loadLabels([key])\n    };\n    \n    var loadLabels = function(keys){\n        $http({\n            method:'post',\n            url:'/system/labels',\n            data: {keys: keys}\n        })\n        .success(function(response){\n            for(var i=0; i<response.length; i++){\n                $scope.labels[response[i].key] = response[i].value;\n            }\n        }.bind($scope));\n    };\n\n    $scope.authenticate = function(){\n        $scope.error = false; \n        $http({\n            method:'post',\n            url:'/system/authentication',\n            data:$scope.login\n        })\n        .success(function(response){\n            console.log(response);\n            if(response.error){\n                loadLabel(response.error);\n                $scope.error = true;\n                return;\n            }\n            $cookies.put('jwtToken', response);\n            $location.path('/welcome');\n        });\n    };\n    \n    init();\n}]);\n",""],"sourceRoot":"/source/"}