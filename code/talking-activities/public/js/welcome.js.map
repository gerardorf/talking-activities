{"version":3,"sources":["controller.js","labelsFactory.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"welcome.js","sourcesContent":["talking.controller('welcomeController', function ($scope, $cookies, $location, welcomeLabelsFactory) {\n    $scope.labels = welcomeLabelsFactory.page();\n    $scope.showWMessage = false;\n    $scope.message= {};\n    \n    $scope.hideMessage = function() {\n        $scope.showMessage = false;\n    };\n\n    $scope.logout = function() {\n        invalidateSession();\n    };\n    \n    var showWelcomeMessage = function() {\n        if (isANewUser()){\n            printWelcomeMessage();\n        }\n    }();\n\n    function invalidateSession() {\n        $cookies.remove('user_token');\n        redirectToLogin();\n    }\n\n    var redirectToLogin = function () {\n        $location.path('/login');\n    };\n\n    function isANewUser() {\n        return $cookies.get('returning_user') === undefined;\n    }\n\n    function printWelcomeMessage () {\n        $scope.showMessage = true;\n        $scope.message= welcomeLabelsFactory.welcome();\n        doNotShowWelcomeMessageAgain();\n    }\n\n    function doNotShowWelcomeMessageAgain() {\n        $cookies.put('returning_user', true);\n    }\n});\n","talking.factory('welcomeLabelsFactory', function(labelsService) {\n    var pageLabel = function() {\n        return labelsService.loadLabel('welcome.title.label');\n    };\n\n    var welcomeLabels= function() {\n        return labelsService.loadLabels(['welcome.message.title',\n            'welcome.message.body',\n            'welcome.message.submit'\n        ]);\n    };\n\n    return {\n        page: pageLabel,\n        welcome: welcomeLabels\n    };\n});"],"sourceRoot":"/source/"}